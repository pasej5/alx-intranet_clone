{% extends 'sidepane.html' %}
{% block headercontent %}
<script>
  function toggle(p)
  {
    $($(p).parent().children('ul')).slideToggle("slow");
  }
  
</script>
<style>
  #panel,
  #flip {
    padding: 5px;
    background-color: #e5eecc;
    border: solid 1px #c3c3c3;
    cursor: pointer;
  }

  #panel {
    padding: 5px;
    display: none;
  }

  .stu {
    padding-left: 10%;
    padding-right: 10%;
  }
</style>
{% endblock %}
{% block content %}
<div class="stu">
  <h1> My Projects</h1>
  <div class="card">
    <div class="bg-success">Current task is here</div>
  </div>
  <h1> All Projects</h1>
  {% regroup projects by project as user_projects %}
  {% for project in user_projects %}
  <div class="card">
    <div id="flip" class="card-header" onclick="toggle(this)">
      {{project.grouper}}
    </div>
    
    <ul id='panel' class="list-group list-group-flush">
      {% for task in project.list %}
      <li class="list-group-item">{{ task.task_name }}</li>
      {% endfor %}
    </ul>
  </div>
  {% endfor %}
</div>
{% endblock %}